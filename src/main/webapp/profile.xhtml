<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:b="http://bootsfaces.net/ui">

<h:head>
	<title>Subh : Bibliothek bremerhaven</title>
	<link rel="stylesheet" href="resources/css/main.css" type="text/css" />
</h:head>
<h:body>
	<ui:include src="components/header.xhtml" />
	<br />
	<br />
	<br />
	<c:choose>
		<c:when test="#{not empty loginBean.user}">

			<b:container>
				<b:row>
					<b:column span="3" offset="3">
						<b:form id="userInfo1">
							<b:row>
								<b:inputText id="name" value="#{loginBean.user.nachname}"
									label="Nachname :" readonly="true" />
							</b:row>
							<b:row>
								<b:inputText id="lastname" value="#{loginBean.user.vorname}"
									label="Vorname :" readonly="true" />
							</b:row>
							<b:row>
								<b:inputText id="username" value="#{loginBean.user.username}"
									label="Benutzername :" readonly="true" />
							</b:row>
							<b:row>
								<b:inputText id="role" value="#{loginBean.user.role}"
									label="Angemeldet als :" readonly="true" />
							</b:row>
							<b:row>
								<b:inputText id="adress" value="#{loginBean.user.adresse}"
									label="Anschrift :" readonly="true" />
							</b:row>
							<b:row>
								<b:inputText id="email" value="#{loginBean.user.email}"
									label="E-Mail :" readonly="true" />
							</b:row>
						</b:form>
					</b:column>
					<b:column span="5" offset="1">
						<b:row>
							<b:column>
								<h:graphicImage value="resources/assets/pp.png"
									class="profileBild" />
							</b:column>
						</b:row>
						<br />
						<br />
						<b:row>
							<h:form>
								<h4 style="text-align: left;">Liste von ausgeliehenen
									Bücher :</h4>
								<p:dataTable value="#{userBean.borrowedBooks}" var="book">
									<p:column headerText="Name">
										<h:outputText value="#{book.name}" />
									</p:column>
									<p:column headerText="" style="width:150px;">
										<p:commandButton value="zurückgeben" id="giveBack"
											action="#{userBean.giveBack()}" style="margin-right:20px;"
											styleClass="ui-priority-primary" />
									</p:column>
								</p:dataTable>
							</h:form>
						</b:row>
						<br />
					</b:column>
				</b:row>
			</b:container>
			<br />
			<b:container>
				<b:column offset="2">
					<b:form>
						<b:column span="2" offset="3">
							<b:commandButton value="Profil Bearbeiten" action="#"
								look="primary" style="text-align:center;"></b:commandButton>
						</b:column>

						<b:column span="2">
							<b:commandButton value="zurück zur Bibliothek" action="/books.xhtml?faces-redirect=true"
								look="success" style="text-align:center;"></b:commandButton>
						</b:column>

					</b:form>
				</b:column>
			</b:container>
		</c:when>
		<c:otherwise>
			<br />
			<br />
			<br />
			<b:container>
				<b:column span="6" offset="3">
					<h2>Du musst dich erst einloggen !</h2>
				</b:column>
			</b:container>
		</c:otherwise>
	</c:choose>
</h:body>
</html>
